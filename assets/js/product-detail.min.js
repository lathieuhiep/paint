!function(n){let s=n("body");function c(t,e,o,l){l.closest(".product-color").find(".item").removeClass("active"),t.append('<div class="box-full-color"></div>');t=s.find(".list-color .box-full-color");t.append(e),t.find(".item-full img").attr("src",o),t.find(".item-full").removeClass("item"),t.find(".info").append('<button class="close-full-color"><i class="fa-solid fa-xmark"></i></button>'),t.slideDown(),l.addClass("active")}n(document).ready(function(){let e=parseInt(n(".site-single-product").data("product-id"));n(".tabs-warp .nav-link").on("shown.bs.tab",function(t){let o=n(this),l=n(t.target),s=l.attr("id");o.hasClass("success-loading")||n.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_tab_product_detail",idTab:s,idProduct:e},beforeSend:function(){n(".spinner-warp").removeClass("d-none")},success:function(e){if(e){if(n("."+s).append(e),"gallery-tab"===s)if(!l.hasClass("success-masonry")){e=n(".product-gallery-grid");if(e.length){let t=e.masonry({percentPosition:!0,horizontalOrder:!0,columnWidth:".grid-sizer-normal",itemSelector:".item"});t.imagesLoaded().progress(function(){t.masonry("layout")})}l.addClass("success-masonry")}o.addClass("success-loading")}},complete:function(){n(".spinner-warp").addClass("d-none")}})}),n(".item-pattern").on("click",function(){let e=n(this);var t=e.data("id");let o=e.data("stt");var l=e.hasClass("active");let s=n(".spinner-box"),a=n(".group-color");l||(e.closest(".pattern__posts").find(".item-pattern").removeClass("active"),e.addClass("active"),n.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code",postId:t},beforeSend:function(){a.empty(),s.removeClass("d-none")},success:function(t){e.closest(".pattern").find(".pattern__style .stt").text(o),a.append(t),s.addClass("d-none")}}))});let i;s.on("click",".product-color .item",function(){window.clearTimeout(i);let t=n(this);var e=t.hasClass("active");let o=t.find(".item__thumbnail").data("image-feature");var l=t.closest(".product-color").find(".item-full");let s=t.closest(".list-color"),a=t.clone().addClass("item-full");e||(l.length?(n(".product-color").find(".item-full").slideUp(),i=setTimeout(function(){n(".product-color").find(".box-full-color").remove(),c(s,a,o,t)},500)):c(s,a,o,t))}),s.on("click",".close-full-color",function(){window.clearTimeout(i);let t=n(this).closest(".box-full-color");t.slideUp(),i=setTimeout(function(){t.remove(),n(".product-color").find(".list-color .item").removeClass("active")},500)})})}(jQuery);