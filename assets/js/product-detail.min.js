!function(c){let i=c("body");c(document).ready(function(){let l=c(".group-color__grid").data("items-per"),e=!1,r=l;var o,t=c(".slider-product-galleries"),a=c(".slider-product-gallery-nav");t.length&&(t.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,asNavFor:".slider-product-gallery-nav"}),o=t.find(".slick-slide").not(".slick-cloned").find("a"),t.magnificPopup({delegate:o,type:"image",gallery:{enabled:!0}})),a.length&&a.slick({slidesToShow:5,slidesToScroll:1,arrows:!1,asNavFor:".slider-product-galleries",dots:!1,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3}}]});let n=parseInt(c(".site-single-product").data("product-id"));c(".tabs-warp .nav-link").on("shown.bs.tab",function(o){let t=c(this),a=c(o.target),s=a.attr("id");t.hasClass("success-loading")||c.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_tab_product_detail",idTab:s,idProduct:n},beforeSend:function(){c(".spinner-warp").removeClass("d-none")},success:function(e){if(e){if(c("."+s).append(e),"gallery-tab"===s)if(!a.hasClass("success-masonry")){e=c(".product-gallery-grid");if(e.length){let o=e.masonry({percentPosition:!0,horizontalOrder:!0,columnWidth:".grid-sizer-normal",itemSelector:".item"});o.imagesLoaded().progress(function(){o.masonry("layout")})}a.addClass("success-masonry")}t.addClass("success-loading")}},complete:function(){c(".spinner-warp").addClass("d-none")}})}),c(".item-pattern").on("click",function(){let e,t=c(this);var a=t.data("id");let s=t.data("stt");var o=t.hasClass("active");let n=c(".spinner-box"),i=c(".group-color");if(!o){e=!0,t.closest(".pattern__posts").find(".item-pattern").removeClass("active"),t.addClass("active");let o=c(".color-code-load");c.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code",postId:a},beforeSend:function(){i.empty(),n.removeClass("d-none")},success:function(o){t.closest(".pattern").find(".pattern__style .stt").text(s),i.append(o),n.addClass("d-none")},complete:function(){o.addClass("more-data"),r=l}})}}),c(window).on("scroll",function(){var o;if(c("#color-code").hasClass("active")){let a=c(".color-code-load");a.hasClass("more-data")&&a.offset().top+110<c(window).scrollTop()+c(window).height()&&!e&&(o=c(document).find(".group-color__grid").attr("data-color-code-id"),e=!0,c.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_product_color_ajax",colorCodeId:o,offset:r,itemsPerLoad:l},beforeSend:function(){a.find(".box-load").fadeIn()},success:function(o){try{var e,t=JSON.parse(o);t.html?((e=c(t.html)).each(function(o){c(this).addClass("slide-up").css({"animation-delay":.2*o+"s",opacity:0})}),c(document).find(".group-color__grid").append(e),r+=l):a.removeClass("more-data")}catch(o){console.error("Invalid JSON response:",o)}},complete:function(){e=!1,a.find(".box-load").fadeOut()}}))}}),i.on("click",".product-color .item",function(){let o,a=c(this);var s=a.index(),n=a.hasClass("active");let i=a.closest(".group-color__grid");var l=i.data("color-code-id");if(!n){o=!0;var n=i.find(".box-full-color"),n=(n.length&&n.slideUp(500,function(){c(this).remove()}),a.outerWidth(!0)),r=a.parent().width(),r=Math.floor(r/n),n=Math.floor(s/r);let e=a.parent().children().slice(n*r,(n+1)*r),t=a.find(".spinner-load-color");i.find(".item").removeClass("active"),c.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code_standard",idColorCode:l,key:s},beforeSend:function(){a.append('<div class="spinner-load-color">\n<div class="spinner-border text-warning" role="status">\n<span class="visually-hidden">Loading...</span>\n</div>\n</div>'),t.removeClass("d-none")},success:function(o){e.last().after(o),t.addClass("d-none")},complete:function(){a.addClass("active"),a.find(".spinner-load-color").remove(),i.find(".box-full-color").slideDown(500,function(){c("html, body").animate({scrollTop:i.find(".box-full-color").offset().top-c(".site-header").outerHeight()-50},500)}),c(".image-container").each(function(){var o=c(this);let a=o.find("img"),s=o.find(".zoom-overlay");var e=s.data("zoom-src");s.css("background-image",`url(${e})`),o.off("mousemove.zoom mouseenter.zoom mouseleave.zoom"),o.on("mousemove.zoom",function(o){var e=a[0].getBoundingClientRect(),t=o.clientX-e.left,o=o.clientY-e.top,e=-(2*t-s.width()/2),t=-(2*o-s.height()/2);s.css("background-position",e+`px ${t}px`)}),o.on("mouseenter.zoom",function(){a.css("opacity","0"),s.css("opacity","1")}),o.on("mouseleave.zoom",function(){a.css("opacity","1"),s.css("opacity","0"),s.css("background-position","center")})})}})}}),i.on("click",".close-full-color",function(){c(this).closest(".box-full-color").slideUp(500,function(){c(this).remove(),c(".group-color__grid").find(".item").removeClass("active")})});c(".image-container").each(function(){var o=c(this);let a=o.find("img"),s=o.find(".zoom-overlay");var e=s.data("zoom-src");s.css("background-image",`url(${e})`),o.on("mousemove",function(o){var e=a[0].getBoundingClientRect(),t=o.clientX-e.left,o=o.clientY-e.top,e=-(2*t-s.width()/2),t=-(2*o-s.height()/2);s.css("background-position",e+`px ${t}px`)}),o.on("mouseenter",function(){a.css("opacity","0"),s.css("opacity","1")}),o.on("mouseleave",function(){a.css("opacity","1"),s.css("opacity","0"),s.css("background-position","center")})});t=c(".related-product__grid");t.length&&t.slick({slidesToShow:4,slidesToScroll:1,dots:!1,arrows:!1,centerMode:!1,focusOnSelect:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),c(".btn-dropdown-menu-tabs").on("click",function(){c("#pills-tab").slideToggle()});let s=c(".tab-content").offset().top;c(window).on("scroll",function(){c(window).scrollTop()>=s+250?c(".btn-tab-canvas").fadeIn():c(".btn-tab-canvas").fadeOut()}),c(".btn-canvas-nav-tab").on("click",function(){let e=c(this).data("id");c("html, body").animate({scrollTop:c(".tabs-warp").offset().top},500,function(){c("#"+e).tab("show");var o=document.getElementById("offcanvasTabs"),o=bootstrap.Offcanvas.getInstance(o);o&&o.hide()})})})}(jQuery),document.addEventListener("DOMContentLoaded",o=>{var e=document.getElementById("content-product-detail");let t=new SimpleBar(e,{autoHide:!1,forceVisible:"y"});e.classList.add("simplebar-active"),new ResizeObserver(()=>{t.recalculate()}).observe(e)});