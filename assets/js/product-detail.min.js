!function(u){let i=u("body");u(document).ready(function(){let l=u(".group-color__grid").data("items-per"),e=!1,c=l;var o,t=u(".slider-product-galleries"),s=u(".slider-product-gallery-nav");t.length&&(t.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,asNavFor:".slider-product-gallery-nav"}),o=t.find(".slick-slide").not(".slick-cloned").find("a"),t.magnificPopup({delegate:o,type:"image",gallery:{enabled:!0}})),s.length&&s.slick({slidesToShow:5,slidesToScroll:1,arrows:!1,asNavFor:".slider-product-galleries",dots:!1,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3}}]});let n=parseInt(u(".site-single-product").data("product-id")),d=(u(".tabs-warp .nav-link").on("shown.bs.tab",function(o){let t=u(this),s=u(o.target),a=s.attr("id");t.hasClass("success-loading")||u.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_tab_product_detail",idTab:a,idProduct:n},beforeSend:function(){u(".spinner-warp").removeClass("d-none")},success:function(e){if(e){if(u("."+a).append(e),"gallery-tab"===a)if(!s.hasClass("success-masonry")){e=u(".product-gallery-grid");if(e.length){let o=e.masonry({percentPosition:!0,horizontalOrder:!0,columnWidth:".grid-sizer-normal",itemSelector:".item"});o.imagesLoaded().progress(function(){o.masonry("layout")})}s.addClass("success-masonry")}t.addClass("success-loading")}},complete:function(){u(".spinner-warp").addClass("d-none")}})}),u(".item-pattern").on("click",function(){let e,t=u(this);var s=t.data("id");let a=t.data("stt");var o=t.hasClass("active");let n=u(".spinner-box"),i=u(".group-color");if(!o){e=!0,t.closest(".pattern__posts").find(".item-pattern").removeClass("active"),t.addClass("active");let o=u(".color-code-load");u.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code",postId:s},beforeSend:function(){i.empty(),n.removeClass("d-none")},success:function(o){t.closest(".pattern").find(".pattern__style .stt").text(a),i.append(o),n.addClass("d-none")},complete:function(){o.addClass("more-data"),c=l}})}}),u(window).on("scroll",function(){var o;if(u("#color-code").hasClass("active")){let s=u(".color-code-load");s.hasClass("more-data")&&s.offset().top+110<u(window).scrollTop()+u(window).height()&&!e&&(o=u(document).find(".group-color__grid").attr("data-color-code-id"),e=!0,u.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_product_color_ajax",colorCodeId:o,offset:c,itemsPerLoad:l},beforeSend:function(){s.find(".box-load").fadeIn()},success:function(o){try{var e,t=JSON.parse(o);t.html?((e=u(t.html)).each(function(o){u(this).addClass("slide-up").css({"animation-delay":.2*o+"s",opacity:0}).one("animationend",function(){u(this).removeClass("slide-up"),u(this).css("opacity",1)})}),u(document).find(".group-color__grid").append(e),c+=l):s.removeClass("more-data")}catch(o){console.error("Invalid JSON response:",o)}},complete:function(){e=!1,s.find(".box-load").fadeOut()}}))}}),null);i.on("click",".product-color .item",function(){let a,n=u(this);if(!n.hasClass("active")){a=!0,u(".product-color .item").addClass("disable-click");var i=n.parent().children().not(".box-full-color"),l=i.index(n),c=n.outerWidth(!0),r=n.parent().width(),r=Math.floor(r/c),c=Math.floor(l/r);let e=i.slice(c*r,(c+1)*r),o=n.closest(".group-color__grid");i=o.data("color-code-id");let t=o.find(".box-full-color"),s=n.find(".spinner-load-color");o.find(".item").removeClass("active"),u.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code_standard",idColorCode:i,key:l},beforeSend:function(){n.append('<div class="spinner-load-color"><div class="spinner-border text-warning" role="status"><span class="visually-hidden">Loading...</span></div></div>'),s.removeClass("d-none"),t.length&&t.slideUp(500,function(){u(this).remove()})},success:function(o){e.last().after(o)},complete:function(){u(".product-color .item").removeClass("disable-click"),n.addClass("active"),n.find(".spinner-load-color").remove(),d&&clearTimeout(d),d=setTimeout(function(){o.find(".box-full-color").slideDown(500,function(){u("html, body").animate({scrollTop:o.find(".box-full-color").offset().top-u(".site-header").outerHeight()-50},500)})},500),u(".image-container").each(function(){var o=u(this);let s=o.find("img"),a=o.find(".zoom-overlay");var e=a.data("zoom-src");a.css("background-image",`url(${e})`),o.off("mousemove.zoom mouseenter.zoom mouseleave.zoom"),o.on("mousemove.zoom",function(o){var e=s[0].getBoundingClientRect(),t=o.clientX-e.left,o=o.clientY-e.top,e=-(2*t-a.width()/2),t=-(2*o-a.height()/2);a.css("background-position",e+`px ${t}px`)}),o.on("mouseenter.zoom",function(){s.css("opacity","0"),a.css("opacity","1")}),o.on("mouseleave.zoom",function(){s.css("opacity","1"),a.css("opacity","0"),a.css("background-position","center")})})}})}}),i.on("click",".close-full-color",function(){u(this).closest(".box-full-color").slideUp(500,function(){u(this).remove(),u(".group-color__grid").find(".item").removeClass("active")})});u(".image-container").each(function(){var o=u(this);let s=o.find("img"),a=o.find(".zoom-overlay");var e=a.data("zoom-src");a.css("background-image",`url(${e})`),o.on("mousemove",function(o){var e=s[0].getBoundingClientRect(),t=o.clientX-e.left,o=o.clientY-e.top,e=-(2*t-a.width()/2),t=-(2*o-a.height()/2);a.css("background-position",e+`px ${t}px`)}),o.on("mouseenter",function(){s.css("opacity","0"),a.css("opacity","1")}),o.on("mouseleave",function(){s.css("opacity","1"),a.css("opacity","0"),a.css("background-position","center")})});t=u(".related-product__grid");t.length&&t.slick({slidesToShow:4,slidesToScroll:1,dots:!1,arrows:!1,centerMode:!1,focusOnSelect:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left" aria-hidden="true"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right" aria-hidden="true"></i></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:!0}}]}),u(".btn-dropdown-menu-tabs").on("click",function(){u("#pills-tab").slideToggle()});let a=u(".tab-content").offset().top;u(window).on("scroll",function(){u(window).scrollTop()>=a+250?u(".btn-tab-canvas").fadeIn():u(".btn-tab-canvas").fadeOut()}),u(".btn-canvas-nav-tab").on("click",function(){let e=u(this).data("id");u("html, body").animate({scrollTop:u(".tabs-warp").offset().top},500,function(){u("#"+e).tab("show");var o=document.getElementById("offcanvasTabs"),o=bootstrap.Offcanvas.getInstance(o);o&&o.hide()})})})}(jQuery),document.addEventListener("DOMContentLoaded",o=>{var e=document.getElementById("content-product-detail");let t=new SimpleBar(e,{autoHide:!1,forceVisible:"y"});e.classList.add("simplebar-active"),new ResizeObserver(()=>{t.recalculate()}).observe(e)});