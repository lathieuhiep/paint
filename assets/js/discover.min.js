!function(o){o(document).ready(function(){var n=o(".grid-discover");if(n.length){let e=n.masonry({percentPosition:!0,horizontalOrder:!0,columnWidth:".grid-discover__item",itemSelector:".grid-discover__item"});e.imagesLoaded().progress(function(){e.masonry("layout")})}o(".history-back-discover").on("click",function(e){e.preventDefault(),history.back(1)})}),o(window).scroll(function(){var e;o(window).scrollTop()+o(window).height()+250>=o(document).height()&&((e=o(".content-warp")).hasClass("scroll-loading")||(e.addClass("scroll-loading"),d()))});var e=o(".grid-discover");let n=e.data("keyword"),t=e.data("limit"),a=e.data("cat"),i=2,r,d=()=>{o.ajax({url:discoverAjax.url,type:"POST",data:{action:"paint_pagination_discover",keyword:n,limit:t,cat:a,paged:i},beforeSend:function(){o(".spinner-warp").removeClass("d-none"),clearTimeout(r)},success:function(e){e?(e=o(e),o(".grid-discover").append(e).masonry("appended",e,!0),o(".content-warp").removeClass("scroll-loading"),i++):(o(".content-warp").append('<p class="text-center txt-no-data">Không có bài viết mới</p>'),r=setTimeout(function(){o(".content-warp").find(".txt-no-data").remove()},3e3))},complete:function(){o(".spinner-warp").addClass("d-none")}})}}(jQuery);