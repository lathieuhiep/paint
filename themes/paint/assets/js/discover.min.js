(n=>{n(document).ready(function(){var o=n(".grid-discover");if(o.length){let e=o.masonry({percentPosition:!0,horizontalOrder:!0,columnWidth:".grid-discover__item",itemSelector:".grid-discover__item"});e.imagesLoaded().progress(function(){e.masonry("layout")})}n(".history-back-discover").on("click",function(e){e.preventDefault(),history.back(1)})}),n(window).scroll(function(){var e;n(window).scrollTop()+n(window).height()+250>=n(document).height()&&((e=n(".content-warp")).hasClass("scroll-loading")||(e.addClass("scroll-loading"),d()))});var e=n(".grid-discover");let o=e.data("keyword"),t=e.data("limit"),a=e.data("cat"),i=2,r,d=()=>{n.ajax({url:discoverAjax.url,type:"POST",data:{action:"paint_pagination_discover",keyword:o,limit:t,cat:a,paged:i},beforeSend:function(){n(".spinner-warp").removeClass("d-none"),clearTimeout(r)},success:function(e){e?(e=n(e),n(".grid-discover").append(e).masonry("appended",e,!0),n(".content-warp").removeClass("scroll-loading"),i++):(n(".content-warp").append('<p class="text-center txt-no-data">Không có bài viết mới</p>'),r=setTimeout(function(){n(".content-warp").find(".txt-no-data").remove()},3e3))},complete:function(){n(".spinner-warp").addClass("d-none")}})}})(jQuery);