(l=>{let s=l("body");l(document).ready(function(){var e,o=l(".slider-product-galleries"),t=l(".slider-product-gallery-nav");o.length&&(o.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,asNavFor:".slider-product-gallery-nav"}),e=o.find(".slick-slide").not(".slick-cloned").find("a"),o.magnificPopup({delegate:e,type:"image",gallery:{enabled:!0}})),t.length&&t.slick({slidesToShow:5,slidesToScroll:1,arrows:!1,asNavFor:".slider-product-galleries",dots:!1,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3}}]});let i=parseInt(l(".site-single-product").data("product-id"));l(".tabs-warp .nav-link").on("shown.bs.tab",function(e){let t=l(this),s=l(e.target),n=s.attr("id");t.hasClass("success-loading")||l.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_tab_product_detail",idTab:n,idProduct:i},beforeSend:function(){l(".spinner-warp").removeClass("d-none")},success:function(o){if(o){if(l("."+n).append(o),"gallery-tab"===n)if(!s.hasClass("success-masonry")){o=l(".product-gallery-grid");if(o.length){let e=o.masonry({percentPosition:!0,horizontalOrder:!0,columnWidth:".grid-sizer-normal",itemSelector:".item"});e.imagesLoaded().progress(function(){e.masonry("layout")})}s.addClass("success-masonry")}t.addClass("success-loading")}},complete:function(){l(".spinner-warp").addClass("d-none")}})}),l(".item-pattern").on("click",function(){let e,o=l(this);var t=o.data("id");let s=o.data("stt");var n=o.hasClass("active");let i=l(".spinner-box"),a=l(".group-color");n||(e=!0,o.closest(".pattern__posts").find(".item-pattern").removeClass("active"),o.addClass("active"),l.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code",postId:t},beforeSend:function(){a.empty(),i.removeClass("d-none")},success:function(e){o.closest(".pattern").find(".pattern__style .stt").text(s),a.append(e),i.addClass("d-none")},complete:function(){}}))}),s.on("click",".product-color .item",function(){let e,s=l(this);var o=s.hasClass("active"),n=s.find(".item__thumbnail");let i=s.closest(".group-color__grid");var a=i.data("color-code-id"),n=n.data("key");if(!o){e=!0;let o=s.find(".spinner-load-color"),t=s.closest(".list-color");i.find(".item").removeClass("active"),l.ajax({url:productDetailAjax.url,type:"POST",data:{action:"paint_get_color_code_standard",idColorCode:a,key:n},beforeSend:function(){s.append('<div class="spinner-load-color">\n<div class="spinner-border text-warning" role="status">\n<span class="visually-hidden">Loading...</span>\n</div>\n</div>'),o.removeClass("d-none");var e=i.find(".box-full-color");e.length&&e.slideUp(500,function(){l(this).remove()})},success:function(e){(479<l(window).width()?t:s).after(e),o.addClass("d-none")},complete:function(){s.addClass("active"),s.find(".spinner-load-color").remove(),i.find(".box-full-color").slideDown(500,function(){l("html, body").animate({scrollTop:i.find(".box-full-color").offset().top-l(".site-header").outerHeight()-50},400)}),l(".image-container").each(function(){var e=l(this);let s=e.find("img"),n=e.find(".zoom-overlay");var o=n.data("zoom-src");n.css("background-image",`url(${o})`),e.off("mousemove.zoom mouseenter.zoom mouseleave.zoom"),e.on("mousemove.zoom",function(e){var o=s[0].getBoundingClientRect(),t=e.clientX-o.left,e=e.clientY-o.top,o=-(2*t-n.width()/2),t=-(2*e-n.height()/2);n.css("background-position",o+`px ${t}px`)}),e.on("mouseenter.zoom",function(){s.css("opacity","0"),n.css("opacity","1")}),e.on("mouseleave.zoom",function(){s.css("opacity","1"),n.css("opacity","0"),n.css("background-position","center")})})}})}}),s.on("click",".close-full-color",function(){l(this).closest(".box-full-color").slideUp(500,function(){l(this).remove(),l(".product-color").find(".list-color .item").removeClass("active")})});l(".image-container").each(function(){var e=l(this);let s=e.find("img"),n=e.find(".zoom-overlay");var o=n.data("zoom-src");n.css("background-image",`url(${o})`),e.on("mousemove",function(e){var o=s[0].getBoundingClientRect(),t=e.clientX-o.left,e=e.clientY-o.top,o=-(2*t-n.width()/2),t=-(2*e-n.height()/2);n.css("background-position",o+`px ${t}px`)}),e.on("mouseenter",function(){s.css("opacity","0"),n.css("opacity","1")}),e.on("mouseleave",function(){s.css("opacity","1"),n.css("opacity","0"),n.css("background-position","center")})});o=l(".related-product__grid");o.length&&o.slick({slidesToShow:4,slidesToScroll:1,dots:!1,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})})(jQuery),document.addEventListener("DOMContentLoaded",e=>{var o=document.getElementById("content-product-detail");let t=new SimpleBar(o,{autoHide:!1,forceVisible:"y"});o.classList.add("simplebar-active"),new ResizeObserver(()=>{t.recalculate()}).observe(o)});